#include <IRremote.h>
IRsend IrSender;

unsigned int turnOnSignal[] = { 6080, 7400, 532, 612, 564, 544, 516, 576, 536, 556, 560, 548, 508, 584, 564, 548, 540, 548, 508, 612, 564, 548, 508, 580, 568, 548, 540, 548, 508, 584, 564, 548, 540, 548, 536, 604,
                                544, 548, 508, 584, 564, 548, 540, 548, 536, 556, 564, 548, 484, 604, 564, 576, 540, 552, 536, 556, 560, 552, 484, 604, 564, 528, 564, 548, 508, 580, 568, 572, 508, 584, 564, 528, 564, 544, 512, 580, 564, 548, 544,
                                548, 508, 584, 564, 576, 484, 604, 564, 528, 564, 548, 508, 584, 564, 548, 540, 548, 532, 560, 564, 572, 508, 584, 564, 552, 536, 552, 532, 560, 564, 548, 484, 604, 536, 556, 564, 572, 536, 1664, 508, 584, 568, 1604,
                                532, 1640, 508, 580, 540, 560, 556, 548, 508, 612, 564, 548, 540, 552, 532, 560, 560, 548, 508, 584, 536, 556, 560, 552, 508, 612, 564, 544, 516, 572, 540, 1636, 508, 580, 568, 1632, 536, 556, 564, 548, 484, 1716, 540,
                                548, 536, 1636, 508, 584, 564, 528, 564, 1608, 564, 548, 540, 1608, 564, 1636, 564, 1632, 564, 1608, 532, 560, 564, 548, 544, 1608, 560, 1608, 568, 1604, 532, 7380, 532
                              };

unsigned int turnOffSignal[] = { 6128, 7344, 564, 600, 516, 576, 532, 580, 512, 576, 484, 608, 536, 576, 516, 576, 528, 560, 536, 604, 484, 604, 540, 576, 512, 576, 532, 556, 540, 576, 484, 604, 536, 580, 512, 600, 532,
                                 560, 536, 576, 484, 608, 536, 576, 512, 576, 488, 604, 540, 576, 516, 600, 532, 552, 544, 572, 484, 608, 540, 576, 512, 576, 484, 604, 540, 576, 540, 576, 536, 580, 512, 576, 484, 604, 540, 576, 536, 552, 484, 608, 560, 552,
                                 512, 604, 536, 580, 536, 552, 484, 604, 564, 548, 540, 552, 532, 556, 540, 576, 484, 632, 540, 576, 536, 552, 528, 560, 540, 576, 484, 604, 536, 580, 512, 572, 488, 632, 564, 548, 516, 576, 532, 1640, 484, 1688, 540, 548, 488,
                                 604, 564, 548, 516, 600, 540, 576, 516, 572, 484, 608, 564, 548, 540, 548, 532, 560, 564, 548, 516, 604, 560, 552, 540, 548, 488, 1684, 488, 604, 532, 1640, 484, 608, 536, 576, 540, 1632, 564, 552, 484, 1688, 540, 548, 484, 608,
                                 540, 1632, 532, 560, 564, 1608, 536, 1660, 536, 556, 540, 1632, 536, 576, 540, 548, 484, 1688, 540, 1636, 536, 1636, 564, 7372, 560
                               };

int khz = 38; // 38kHz carrier frequency for the Komeco control

void setup() {
  pinMode(LED_BUILTIN, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  if (Serial.available() > 0) {
    int incomingByte = Serial.parseInt();

    //Send on/off code depending on the serial input. 1 = ON, 2 = OFF
    if (incomingByte == 1) {
      Serial.println("Ligar");
      IrSender.sendRaw(turnOnSignal, sizeof(turnOnSignal) / sizeof(turnOnSignal[0]), khz);
    } else if (incomingByte == 2) {
      Serial.println("Desligar");
      IrSender.sendRaw(turnOffSignal, sizeof(turnOffSignal) / sizeof(turnOffSignal[0]), khz);
    }
  }

}
